import React, { useState, useRef, useEffect } from "react";
import "./FormTarea.css";

const FormTarea = ({ agregartareas }) => {
  const [nomTarea, setnomTarea] = useState("");
  const [cantidad, setCantidad] = useState("");
  const [precio, setPrecio] = useState("");
  const nombreInputRef = useRef(null); // Referencia para el input del nombre

  useEffect(() => {
    // Enfocar el input del nombre al iniciar
    nombreInputRef.current.focus();
  }, []);

  const canomTarea = (event) => {
    setnomTarea(event.target.value);
  };

  const camCantidad = (event) => {
    setCantidad(event.target.value);
  };

  const camPrecio = (event) => {
    setPrecio(event.target.value);
  };

  const agregaT = (e) => {
    e.preventDefault();
    if (nomTarea.trim() !== "") {
      agregartareas(nomTarea, cantidad, precio);
      setnomTarea("");
      setCantidad("");
      setPrecio("");
      nombreInputRef.current.focus(); // Enfocar el input del nombre después de enviar
    }
  };

  return (
    <form onSubmit={agregaT} className="formTareacontenedor">
      <div className="inputscontenedor">
        <div>
          <label htmlFor="nombreInput">Nombre: </label>
          <input
            type="text"
            value={nomTarea}
            required
            onChange={canomTarea}
            placeholder="Agregar tarea..."
            ref={nombreInputRef} // Referencia para el input del nombre
          />
        </div>

        {/* Resto del código permanece igual */}
        {/* ... */}

      </div>
      <button className="buttonAgregar" type="submit">
        Agregar
      </button>
    </form>
  );
};

export default FormTarea;
